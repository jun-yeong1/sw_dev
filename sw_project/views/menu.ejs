<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--폰트1 numans-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Numans&display=swap" rel="stylesheet">
    <!--폰트2 nunito-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Numans&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!--폰트3 nanum gothic-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Numans&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!--css 주소 링크-->
    <link href="/stylesheets/menu.css" rel="stylesheet"/>
    <title>카페 메뉴</title>
    <!--style 옮겨둠-->
</head>
<body>
<header>
    <h1>MENU</h1>
</header>
<div class="category">
    <h1 id="cafeName"><%= cafe.name%></h1>
    <input type="hidden" id="selectedCafe" value="">
    <h2>카테고리</h2>
    <p>
        <button name="커피" onclick="showDiv('div1')">커피</button> |
        <button name="라떼" onclick="showDiv('div2')">음료</button> |
        <button name="차/과일" onclick="showDiv('div3')">차/과일</button> |
        <button name="스무디/에이드" onclick="showDiv('div4')">스무디/에이드</button>
    </p>
</div>
<div class="wrapper">
    <div id='div1' class="container">
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/Espresso.png" alt="에스프레소">
            <h3>에스프레소</h3>
            <p>에스프레소</p>
            <span id="에스프레소" hidden="hidden">에스프레소</span>
            <p>가격: <span id="에스가격">1500</span>원</p>
            <div>
                <input type="radio"  name="temperature" value="iced" onclick="document.getElementById('에스가격').innerText = '1500';" disabled>
                <label for="iced">Iced</label>
                <input type="radio"  name="temperature" value="hot" onclick="document.getElementById('에스가격').innerText = '1500';" checked>
                <label for="hot">Hot</label>
            </div>
            <select id="에스프레소수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('에스프레소', document.getElementById('에스가격').innerText, '/images/menu/hot_coffee/Espresso.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_coffee/americano.png" alt="아메리카노">
            <h3>아메리카노</h3>
            <p>에스프레소와 물을 섞어 만든 커피</p>
            <span id="아메리카노" hidden="hidden">아메리카노(아이스)</span>
            <p>가격: <span id="아메리카노가격">1800</span>원</p>
            <div>
                <input type="radio"  name="아메리카노온도" value="iced" onclick="updateCoffeeType('아메리카노', '아이스', '1800')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="아메리카노온도" value="hot" onclick="updateCoffeeType('아메리카노', '핫', '1800')">
                <label for="hot">Hot</label>
            </div>
            <select id="아메리카노수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('아메리카노', document.getElementById('아메리카노가격').innerText, '/images/menu/ice_coffee/americano.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_coffee/cafe_latte.png" alt="카페라떼">
            <h3>카페라떼</h3>
            <p>에스프레소와 스팀밀크를 섞은 커피</p>
            <span id="카페라떼" hidden="hidden">카페라떼(아이스)</span>
            <p>가격: <span id="카페라떼가격">3000</span>원</p>
            <div>
                <input type="radio"  name="카페라떼온도" value="iced" onclick="updateCoffeeType('카페라떼', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="카페라떼온도" value="hot" onclick="updateCoffeeType('카페라떼', '핫', '2800')">
                <label for="hot">Hot</label>
            </div>
            <select id="카페라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('카페라떼', document.getElementById('카페라떼가격').innerText, '/images/menu/ice_coffee/cafe_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/hot_cappuccino.png" alt="카푸치노">
            <h3>카푸치노</h3>
            <p>에스프레소와 스팀밀크를 섞은 커피</p>
            <span id="카푸치노" hidden="hidden">카푸치노(아이스)</span>
            <p>가격: <span id="카푸치노가격">3000</span>원</p>
            <div>
                <input type="radio"  name="카푸치노온도" value="iced" onclick="updateCoffeeType('카푸치노', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="카푸치노온도" value="hot" onclick="updateCoffeeType('카푸치노', '핫', '2800')">
                <label for="hot">Hot</label>
            </div>
            <select id="카푸치노수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('카푸치노', document.getElementById('카푸치노가격').innerText, '/images/menu/hot_coffee/hot_cappuccino.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_coffee/vanilla_latte.png" alt="바닐라라떼">
            <h3>바닐라라떼</h3>
            <p>에스프레소와 스팀밀크를 섞은 바닐라향이 나는 커피</p>
            <span id="바닐라라떼" hidden="hidden">바닐라라떼(아이스)</span>
            <p>가격: <span id="바닐라라떼가격">3300</span>원</p>
            <div>
                <input type="radio"  name="바닐라라떼온도" value="iced" onclick="updateCoffeeType('바닐라라떼', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="바닐라라떼온도" value="hot" onclick="updateCoffeeType('바닐라라떼', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="바닐라라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('바닐라라떼', document.getElementById('바닐라라떼가격').innerText, '/images/menu/ice_coffee/vanilla_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/hot_cafe_latte.png" alt="헤이즐넛라떼">
            <h3>헤이즐넛라떼</h3>
            <p>에스프레소와 스팀밀크를 섞은 헤이즐넛향이 나는 커피</p>
            <span id="헤이즐넛라떼" hidden="hidden">헤이즐넛라떼(아이스)</span>
            <p>가격: <span id="헤이즐넛라떼가격">3300</span>원</p>
            <div>
                <input type="radio"  name="헤이즐넛라떼온도" value="iced" onclick="updateCoffeeType('헤이즐넛라떼', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="헤이즐넛라떼온도" value="hot" onclick="updateCoffeeType('헤이즐넛라떼', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="헤이즐넛라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('헤이즐넛라떼', document.getElementById('헤이즐넛라떼가격').innerText, '/images/menu/hot_coffee/hot_cafe_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/hot_cafemoca.png" alt="카페모카">
            <h3>카페모카</h3>
            <p>에스프레소와 스팀밀크를 섞은 모카향이 나는 커피</p>
            <span id="카페모카" hidden="hidden">카페모카(아이스)</span>
            <p>가격: <span id="카페모카가격">3300</span>원</p>
            <div>
                <input type="radio"  name="카페모카온도" value="iced" onclick="updateCoffeeType('카페모카', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="카페모카온도" value="hot" onclick="updateCoffeeType('카페모카', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="카페모카수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('카페모카', document.getElementById('카페모카가격').innerText, '/images/menu/hot_coffee/hot_cafemoca.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/hot_whitemoca.png" alt="화이트모카">
            <h3>화이트모카</h3>
            <p>에스프레소와 스팀밀크를 섞은 화이트초콜릿 향이 나는 커피</p>
            <span id="화이트모카" hidden="hidden">화이트모카(아이스)</span>
            <p>가격: <span id="화이트모카가격">3300</span>원</p>
            <div>
                <input type="radio"  name="화이트모카온도" value="iced" onclick="updateCoffeeType('화이트모카', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="화이트모카온도" value="hot" onclick="updateCoffeeType('화이트모카', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="화이트모카수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('화이트모카', document.getElementById('화이트모카가격').innerText, '/images/menu/hot_coffee/hot_whitemoca.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_coffee/caramel_macchiato.png" alt="카라멜마끼야또">
            <h3>카라멜마끼야또</h3>
            <p>에스프레소와 스팀밀크를 섞은 카라멜향이 나는 커피</p>
            <span id="카라멜마끼야또" hidden="hidden">카라멜마끼야또(아이스)</span>
            <p>가격: <span id="카라멜마끼야또가격">3300</span>원</p>
            <div>
                <input type="radio"  name="카라멜마끼야또온도" value="iced" onclick="updateCoffeeType('카라멜마끼야또', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="카라멜마끼야또온도" value="hot" onclick="updateCoffeeType('카라멜마끼야또', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="카라멜마끼야또수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('카라멜마끼야또', document.getElementById('카라멜마끼야또가격').innerText, '/images/menu/ice_coffee/caramel_macchiato.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/hot_coffee/hot_cafe_latte.png" alt="연유라떼">
            <h3>연유라떼</h3>
            <p>에스프레소와 스팀밀크를 섞은 달콤한 커피</p>
            <span id="연유라떼" hidden="hidden">연유라떼(아이스)</span>
            <p>가격: <span id="연유라떼가격">3300</span>원</p>
            <div>
                <input type="radio"  name="연유라떼온도" value="iced" onclick="updateCoffeeType('연유라떼', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="연유라떼온도" value="hot" onclick="updateCoffeeType('연유라떼', '핫', '3000')">
                <label for="hot">Hot</label>
            </div>
            <select id="연유라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('연유라떼', document.getElementById('연유라떼가격').innerText, '/images/menu/hot_coffee/hot_cafe_latte.png')">장바구니에 담기</button>
        </div>
    </div>
    <div id='div2' class="container">
        <div class="menu-item">
            <img src="/images/menu/tea/green_tea.png" alt="그린티라떼">
            <h3>그린티라떼</h3>
            <p>그린티와 스팀밀크를 섞은 음료</p>
            <span id="그린티라떼" hidden="hidden">그린티라떼(아이스)</span>
            <p>가격: <span id="그린티라떼가격">3000</span>원</p>
            <div>
                <input type="radio"  name="그린티라떼온도" value="iced" onclick="updateCoffeeType('그린티라떼', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="그린티라떼온도" value="hot" onclick="updateCoffeeType('그린티라떼', '핫', '2700')">
                <label for="hot">Hot</label>
            </div>
            <select id="그린티라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('그린티라떼', document.getElementById('그린티라떼가격').innerText, '/images/menu/tea/green_tea.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/choco_latte.png" alt="초코라떼">
            <h3>초코라떼</h3>
            <p>초콜릿과 스팀밀크를 섞은 음료</p>
            <span id="초코라떼" hidden="hidden">초코라떼(아이스)</span>
            <p>가격: <span id="초코라떼가격">3000</span>원</p>
            <div>
                <input type="radio"  name="초코라떼온도" value="iced" onclick="updateCoffeeType('초코라떼', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="초코라떼온도" value="hot" onclick="updateCoffeeType('초코라떼', '핫', '2700')">
                <label for="hot">Hot</label>
            </div>
            <select id="초코라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('초코라떼', document.getElementById('초코라떼가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/choco_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/sweet_potato_latte.png" alt="고구마라떼">
            <h3>고구마라떼</h3>
            <p>고구마와 스팀밀크를 섞은 음료</p>
            <span id="고구마라떼" hidden="hidden">고구마라떼(아이스)</span>
            <p>가격: <span id="고구마라떼가격">3000</span>원</p>
            <div>
                <input type="radio"  name="고구마라떼온도" value="iced" onclick="updateCoffeeType('고구마라떼', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="고구마라떼온도" value="hot" onclick="updateCoffeeType('고구마라떼', '핫', '2700')">
                <label for="hot">Hot</label>
            </div>
            <select id="고구마라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('고구마라떼', document.getElementById('고구마라떼가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/sweet_potato_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/grains_latte.png" alt="오곡라떼">
            <h3>오곡라떼</h3>
            <p>오곡과 스팀밀크를 섞은 음료</p>
            <span id="오곡라떼" hidden="hidden">오곡라떼(아이스)</span>
            <p>가격: <span id="오곡라떼가격">3000</span>원</p>
            <div>
                <input type="radio"  name="오곡라떼온도" value="iced" onclick="updateCoffeeType('오곡라떼', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="오곡라떼온도" value="hot" onclick="updateCoffeeType('오곡라떼', '핫', '2700')">
                <label for="hot">Hot</label>
            </div>
            <select id="오곡라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('오곡라떼', document.getElementById('오곡라떼가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/grains_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/tea/black_tea.png" alt="밀크티(홍차)">
            <h3>밀크티(홍차)</h3>
            <p>홍차와 스팀밀크를 섞은 음료</p>
            <span id="밀크티(홍차)" hidden="hidden">밀크티(홍차)(아이스)</span>
            <p>가격: <span id="밀크티(홍차)가격">3000</span>원</p>
            <div>
                <input type="radio"  name="밀크티(홍차)온도" value="iced" onclick="updateCoffeeType('밀크티(홍차)', '아이스', '3000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="밀크티(홍차)온도" value="hot" onclick="updateCoffeeType('밀크티(홍차)', '핫', '2700')">
                <label for="hot">Hot</label>
            </div>
            <select id="밀크티(홍차)수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('밀크티(홍차)', document.getElementById('밀크티(홍차)가격').innerText, '/images/menu/tea/black_tea.png')">장바구니에 담기</button>
        </div>
    </div>

    <div id='div3' class="container">
        <div class="menu-item">
            <img src="/images/menu/tea/chamomile_tea.png" alt="허브티">
            <h3>허브티</h3>
            <p>다양한 허브를 사용한 차</p>
            <span id="허브티" hidden="hidden">허브티(아이스)</span>
            <p>가격: <span id="허브티가격">2300</span>원</p>
            <div>
                <input type="radio"  name="허브티온도" value="iced" onclick="updateCoffeeType('허브티', '아이스', '2300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="허브티온도" value="hot" onclick="updateCoffeeType('허브티', '핫', '2300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="허브티수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('허브티', document.getElementById('허브티가격').innerText, '/images/menu/tea/chamomile_tea.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/tea/black_tea.png" alt="홍차">
            <h3>홍차</h3>
            <p>홍차 잎을 우려낸 차</p>
            <span id="홍차" hidden="hidden">홍차(아이스)</span>
            <p>가격: <span id="홍차가격">2000</span>원</p>
            <div>
                <input type="radio"  name="홍차온도" value="iced" onclick="updateCoffeeType('홍차', '아이스', '2000')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="홍차온도" value="hot" onclick="updateCoffeeType('홍차', '핫', '2300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="홍차수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('홍차', document.getElementById('홍차가격').innerText, '/images/menu/tea/black_tea.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/tea/green_tea.png" alt="그린티">
            <h3>그린티</h3>
            <p>녹차 잎을 우려낸 차</p>
            <span id="그린티" hidden="hidden">그린티(아이스)</span>
            <p>가격: <span id="그린티가격">2300</span>원</p>
            <div>
                <input type="radio"  name="그린티온도" value="iced" onclick="updateCoffeeType('그린티', '아이스', '2300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="그린티온도" value="hot" onclick="updateCoffeeType('그린티', '핫', '2300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="그린티수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('그린티', document.getElementById('그린티가격').innerText, '/images/menu/tea/green_tea.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/peach_ice_tea.png" alt="아이스티">
            <h3>아이스티</h3>
            <p>달콤한 맛의 아이스티</p>
            <span id="아이스티" hidden="hidden">아이스티(아이스)</span>
            <p>가격: <span id="아이스티가격">2800</span>원</p>
            <div>
                <input type="radio"  name="아이스티온도" value="iced" onclick="updateCoffeeType('아이스티', '아이스', '2800')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="아이스티온도" value="hot" onclick="updateCoffeeType('아이스티', '핫', '2800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="아이스티수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('아이스티', document.getElementById('아이스티가격').innerText, '/images/menu/ice_non_coffee/peach_ice_tea.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/lemon_ice_tea.png" alt="유자차">
            <h3>유자차</h3>
            <p>유자 맛이 나는 차</p>
            <span id="유자차" hidden="hidden">유자차(아이스)</span>
            <p>가격: <span id="유자차가격">3300</span>원</p>
            <div>
                <input type="radio"  name="유자차온도" value="iced" onclick="updateCoffeeType('유자차', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="유자차온도" value="hot" onclick="updateCoffeeType('유자차', '핫', '2800')">
                <label for="hot">Hot</label>
            </div>
            <select id="유자차수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('유자차', document.getElementById('유자차가격').innerText, '/images/menu/ice_non_coffee/lemon_ice_tea.png')">장바구니에 담기</button>
        </div>


        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/smoothie/Yogurt_smoothie.png" alt="바나나주스">
            <h3>바나나주스</h3>
            <p>바나나를 갈아 만든 주스</p>
            <span id="바나나주스" hidden="hidden">바나나주스(아이스)</span>
            <p>가격: <span id="바나나주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="바나나주스온도" value="iced" onclick="updateCoffeeType('바나나주스', '아이스', '3400')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="바나나주스온도" value="hot" onclick="updateCoffeeType('바나나주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="바나나주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('바나나주스', document.getElementById('바나나주스가격').innerText, '/images/menu/ice_non_coffee/smoothie/Yogurt_smoothie.png')">장바구니에 담기</button>
        </div>

        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/strawberry_latte.png" alt="바나나딸기주스">
            <h3>바나나딸기주스</h3>
            <p>바나나와 딸기를 갈아 만든 주스</p>
            <span id="바나나딸기주스" hidden="hidden">바나나딸기주스(아이스)</span>
            <p>가격: <span id="바나나딸기주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="바나나딸기주스온도" value="iced" onclick="updateCoffeeType('바나나딸기주스', '아이스', '3700')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="바나나딸기주스온도" value="hot" onclick="updateCoffeeType('바나나딸기주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="바나나딸기주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('바나나딸기주스', document.getElementById('바나나딸기주스가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/strawberry_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/tea/taro_bubble_tea.png" alt="블루베리주스">
            <h3>블루베리주스</h3>
            <p>블루베리를 갈아 만든 주스</p>
            <span id="블루베리주스" hidden="hidden">블루베리주스(아이스)</span>
            <p>가격: <span id="블루베리주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="블루베리주스온도" value="iced" onclick="updateCoffeeType('블루베리주스', '아이스', '3500')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="블루베리주스온도" value="hot" onclick="updateCoffeeType('블루베리주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="블루베리주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('블루베리주스', document.getElementById('블루베리주스가격').innerText, '/images/menu/tea/taro_bubble_tea.png')">장바구니에 담기</button>
        </div>

        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/ki.png" alt="키위주스">
            <h3>키위주스</h3>
            <p>키위를 갈아만든 주스</p>
            <span id="키위주스" hidden="hidden">키위주스(아이스)</span>
            <p>가격: <span id="키위주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="키위주스온도" value="iced" onclick="updateCoffeeType('키위주스', '아이스', '3500')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="키위주스온도" value="hot" onclick="updateCoffeeType('키위주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="키위주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('키위주스', document.getElementById('키위주스가격').innerText, '/images/menu/ice_non_coffee/ki.png')">장바구니에 담기</button>
        </div>

        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/smoothie/strawberry_yogurt_smoothie.png" alt="토마토주스">
            <h3>토마토주스</h3>
            <p>토마토를 갈아만든 주스</p>
            <span id="토마토주스" hidden="hidden">토마토주스(아이스)</span>
            <p>가격: <span id="토마토주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="토마토주스온도" value="iced" onclick="updateCoffeeType('토마토주스', '아이스', '3400')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="토마토주스온도" value="hot" onclick="updateCoffeeType('토마토주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="토마토주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('토마토주스', document.getElementById('토마토주스가격').innerText, '/images/menu/ice_non_coffee/smoothie/strawberry_yogurt_smoothie.png')">장바구니에 담기</button>
        </div>

        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/strawberry_juice.png" alt="딸기주스">
            <h3>딸기주스</h3>
            <p>에스프레소와 스팀밀크를 섞은 바닐라향이 나는 커피</p>
            <span id="딸기주스" hidden="hidden">딸기주스(아이스)</span>
            <p>가격: <span id="딸기주스가격">1800</span>원</p>
            <div>
                <input type="radio"  name="딸기주스온도" value="iced" onclick="updateCoffeeType('딸기주스', '아이스', '3400')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="딸기주스온도" value="hot" onclick="updateCoffeeType('딸기주스', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="딸기주스수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('딸기주스', document.getElementById('딸기주스가격').innerText, '/images/menu/ice_non_coffee/strawberry_juice.png')">장바구니에 담기</button>
        </div>

        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/strawberry_latte.png" alt="딸기라떼">
            <h3>딸기라떼</h3>
            <p>딸기와 우유를 섞어 만든 라떼</p>
            <span id="딸기라떼" hidden="hidden">딸기라떼(아이스)</span>
            <p>가격: <span id="딸기라떼가격">1800</span>원</p>
            <div>
                <input type="radio"  name="딸기라떼온도" value="iced" onclick="updateCoffeeType('딸기라떼', '아이스', '3600')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="딸기라떼온도" value="hot" onclick="updateCoffeeType('딸기라떼', '핫', '1800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="딸기라떼수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('딸기라떼', document.getElementById('딸기라떼가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/strawberry_latte.png')">장바구니에 담기</button>
        </div>
    </div>

    <div id='div4' class="container">
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/smoothie/Yogurt_smoothie.png" alt="요거트스무디">
            <h3>요거트스무디</h3>
            <p>요거트와 얼음을 갈아 만든 음료</p>
            <span id="요거트스무디" hidden="hidden">요거트스무디(아이스)</span>
            <p>가격: <span id="요거트스무디가격">3300</span>원</p>
            <div>
                <input type="radio"  name="요거트스무디온도" value="iced" onclick="updateCoffeeType('요거트스무디', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="요거트스무디온도" value="hot" onclick="updateCoffeeType('요거트스무디', '핫', '3300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="요거트스무디수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('요거트스무디', document.getElementById('요거트스무디가격').innerText, '/images/menu/ice_non_coffee/smoothie/Yogurt_smoothie.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/smoothie/mint_choco_smoothie.png" alt="민트초코칩스무디">
            <h3>민트초코칩스무디</h3>
            <p>민트와 초콜릿 칩을 넣은 스무디</p>
            <span id="민트초코칩스무디" hidden="hidden">민트초코칩스무디(아이스)</span>
            <p>가격: <span id="민트초코칩스무디가격">3300</span>원</p>
            <div>
                <input type="radio"  name="민트초코칩스무디온도" value="iced" onclick="updateCoffeeType('민트초코칩스무디', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="민트초코칩스무디온도" value="hot" onclick="updateCoffeeType('민트초코칩스무디', '핫', '3300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="민트초코칩스무디수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('민트초코칩스무디', document.getElementById('민트초코칩스무디가격').innerText, '/images/menu/ice_non_coffee/smoothie/mint_choco_smoothie.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/non_coffee_latte/choco_latte.png" alt="자바칩초코스무디">
            <h3>자바칩초코스무디</h3>
            <p>자바칩을 넣은 초콜릿 스무디</p>
            <span id="자바칩초코스무디" hidden="hidden">자바칩초코스무디(아이스)</span>
            <p>가격: <span id="자바칩초코스무디가격">3800</span>원</p>
            <div>
                <input type="radio"  name="자바칩초코스무디온도" value="iced" onclick="updateCoffeeType('자바칩초코스무디', '아이스', '3800')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="자바칩초코스무디온도" value="hot" onclick="updateCoffeeType('자바칩초코스무디', '핫', '3800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="자바칩초코스무디수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('자바칩초코스무디', document.getElementById('자바칩초코스무디가격').innerText, '/images/menu/ice_non_coffee/non_coffee_latte/choco_latte.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/ade/red_tea_ade.png" alt="홍초에이드">
            <h3>홍초에이드</h3>
            <p>홍초와 탄산수를 섞은 에이드</p>
            <span id="홍초에이드" hidden="hidden">홍초에이드(아이스)</span>
            <p>가격: <span id="홍초에이드가격">2800</span>원</p>
            <div>
                <input type="radio"  name="홍초에이드온도" value="iced" onclick="updateCoffeeType('홍초에이드', '아이스', '2800')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="홍초에이드온도" value="hot" onclick="updateCoffeeType('홍초에이드', '핫', '2800')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="홍초에이드수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('홍초에이드', document.getElementById('홍초에이드가격').innerText, '/images/menu/ice_non_coffee/ade/red_tea_ade.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/ade/green_grape_ade.png" alt="청포도에이드">
            <h3>청포도에이드</h3>
            <p>청포도맛의 에이드</p>
            <span id="청포도에이드" hidden="hidden">청포도에이드(아이스)</span>
            <p>가격: <span id="청포도에이드가격">3300</span>원</p>
            <div>
                <input type="radio"  name="청포도에이드온도" value="iced" onclick="updateCoffeeType('청포도에이드', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="청포도에이드온도" value="hot" onclick="updateCoffeeType('청포도에이드', '핫', '3300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="청포도에이드수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('청포도에이드', document.getElementById('청포도에이드가격').innerText, '/images/menu/ice_non_coffee/ade/green_grape_ade.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/ade/grapefruit_ade.png" alt="청귤에이드">
            <h3>청귤에이드</h3>
            <p>청귤맛의 에이드</p>
            <span id="청귤에이드" hidden="hidden">청귤에이드(아이스)</span>
            <p>가격: <span id="청귤에이드가격">3300</span>원</p>
            <div>
                <input type="radio"  name="청귤에이드온도" value="iced" onclick="updateCoffeeType('청귤에이드', '아이스', '3300')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="청귤에이드온도" value="hot" onclick="updateCoffeeType('청귤에이드', '핫', '3300')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="청귤에이드수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('청귤에이드', document.getElementById('청귤에이드가격').innerText, '/images/menu/ice_non_coffee/ade/grapefruit_ade.png')">장바구니에 담기</button>
        </div>
        <div class="menu-item">
            <img src="/images/menu/ice_non_coffee/ade/red_tea_ade.png" alt="자몽에이드">
            <h3>자몽에이드</h3>
            <p>자몽맛의 에이드</p>
            <span id="자몽에이드" hidden="hidden">자몽에이드(아이스)</span>
            <p>가격: <span id="자몽에이드가격">3700</span>원</p>
            <div>
                <input type="radio"  name="자몽에이드온도" value="iced" onclick="updateCoffeeType('자몽에이드', '아이스', '3700')" checked>
                <label for="iced">Iced</label>
                <input type="radio"  name="자몽에이드온도" value="hot" onclick="updateCoffeeType('자몽에이드', '핫', '3700')" disabled>
                <label for="hot">Hot</label>
            </div>
            <select id="자몽에이드수량">
                <option value="1">1</option><option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option><option value="6">6</option>
                <option value="7">7</option><option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
            </select>
            <button onclick="addToCart('자몽에이드', document.getElementById('자몽에이드가격').innerText, '/images/menu/ice_non_coffee/ade/red_tea_ade.png')">장바구니에 담기</button>
        </div>
    </div>
    <div class="card">
        <div class="card-header"><b>장바구니</b></div>
        <div class="card-body">
            <table class="table" id="cart-table">
                <thead>
                <tr>
                    <th>메뉴명</th>
                    <th>메뉴 개수</th>
                    <th>메뉴 가격</th>
                    <th>총 가격</th>
                    <th>삭제</th>
                </tr>
                </thead>
                <tbody>
                <tr id="cart-empty">
                    <td colspan="5">제품이 없습니다.</td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="3"><b>총 개수</b></td>
                    <td id="cart-total">0</td>
                    <td>&nbsp;</td>
                </tr>
                </tfoot>
            </table>
            <button type="button" onclick="makePayment()">결제</button>
            <a href="/"><button type="button">홈으로</button></a>
        </div>
    </div>
</div>
<script>
    function updateCoffeeType(coffeeType, temperature, price) {
        var coffeeId = coffeeType + ' (' + temperature + ')';
        document.getElementById(coffeeType).innerText = coffeeId;
        document.getElementById(coffeeType + '가격').innerText = price;
    }

    function updateCartTable() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartTableBody = document.querySelector('#cart-table tbody');
        const cartTotalElement = document.getElementById('cart-total');

        cartTableBody.innerHTML = '';
        let total = 0;

        if (cart.length > 0) {
            cart.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                        <td>${item.name}</td>
                        <td>${item.quantity}</td>
                        <td>${item.price}</td>
                        <td>${item.quantity * item.price}</td>
                        <td><button type="button" class="btn btn-danger btn-sm" onclick="removeItem(${index})">Remove</button></td>
                    `;
                cartTableBody.appendChild(row);
                total += item.quantity * item.price;
            });
        } else {
            const cartEmptyRow = document.getElementById('cart-empty');
            if (cartEmptyRow) {
                cartEmptyRow.style.display = 'table-row';
            }
        }

        cartTotalElement.textContent = total;
    }

    function showDiv(divId){
        var divs = document.getElementsByClassName('container');
        for (var i = 0; i < divs.length; i++) {
            divs[i].style.display = 'none';
        }
        document.getElementById(divId).style.display = 'block';
    }

    document.addEventListener('DOMContentLoaded', function() {
        showDiv('div1');
    });

    function addToCart(coffeeType, price, image) {
        var coffeeId = document.getElementById(coffeeType).innerText;
        const quantityElement = document.getElementById(coffeeType + '수량');
        let quantity = Number(quantityElement.value);
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const itemIndex = cart.findIndex(item => item.name === coffeeId);

        if (itemIndex !== -1) {
            cart[itemIndex].quantity += quantity;
        } else {
            cart.push({ name: coffeeId, price: price, image: image, quantity: quantity });
        }

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartTable(); // Cart 업데이트 후 테이블 갱신
    }

    function removeItem(index) {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.splice(index, 1);

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartTable(); // Cart 업데이트 후 테이블 갱신
    }

    function makePayment() {
        const cartTotalElement = document.getElementById('cart-total');
        const totalAmount = parseFloat(cartTotalElement.textContent);
        const selectedCafe = document.getElementById('selectedCafe').value;
        if (!selectedCafe) {
            alert('지점을 선택해주세요');
            window.location.href = '/map'; // 리다이렉트
            return;
        }

        fetch('/get-user-amount')
            .then(response => {
                if (!response.ok) {
                    alert('로그인을 해주세요');
                    window.location.href = '/login';
                    throw new Error('Failed to fetch user amount');
                }
                return response.json();
            })
            .then(userData => {
                if (userData.amount >= totalAmount) {
                    // 충분한 금액이 있을 경우 결제 진행
                    return fetch('/update-user-amount', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ amount: userData.amount - totalAmount })
                    })
                        .then(response => {
                            if (response.status === 401) {
                                alert('로그인을 해주세요');
                                window.location.href = '/login';
                            } else if (response.ok) {
                                return response.text();
                            } else {
                                throw new Error('Update failed');
                            }
                        });
                } else {
                    alert('금액이 부족합니다');
                    throw new Error('금액이 부족합니다.');
                }
            })
            .then(updateResponse => {
                if (updateResponse) {
                    alert('결제가 성공적으로 완료되었습니다.');
                    // 주문 내역을 가져와서 서버로 전송
                    const cartItems = [];
                    const tableRows = document.querySelectorAll('#cart-table tbody tr:not(#cart-empty)');
                    tableRows.forEach(function(row) {
                        const menuItem = {
                            name: row.cells[0].innerText.trim(),
                            quantity: parseInt(row.cells[1].innerText.trim(), 10),
                            price: parseFloat(row.cells[2].innerText.trim().replace(',', ''))
                        };
                        cartItems.push(menuItem);
                    });

                    // 서버로 주문 내역 전송
                    return fetch('/placeOrder', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ cartItems: cartItems, cafe: selectedCafe })
                    });
                } else {
                    alert('결제 처리 중 오류가 발생했습니다.');
                    throw new Error('결제 처리 중 오류가 발생했습니다.');
                }
            })
            .then(placeOrderResponse => {
                if (placeOrderResponse.ok) {
                    console.log('주문이 서버로 전송되었습니다.');
                    // 결제가 성공적으로 완료된 후 카트를 비웁니다.
                    localStorage.removeItem('cart');
                    updateCartTable();
                } else {
                    alert('주문 전송 중 오류가 발생했습니다.');
                    throw new Error('주문 전송 중 오류가 발생했습니다.');
                }
            })
            .catch(error => {
                console.error('Error:', error.message);
            });
    }

    window.onload = function() {
        updateCartTable();
        // URL 파라미터를 읽어 선택된 카페 정보를 설정
        const urlParams = new URLSearchParams(window.location.search);
        const cafeName = urlParams.get('name');
        if (cafeName) {
            document.getElementById('selectedCafe').value = cafeName;
            document.getElementById('cafeName').innerText = cafeName;
        }
    };

    window.addToCart = addToCart;
    window.removeItem = removeItem;
    window.makePayment = makePayment;
</script>
</body>
</html>
