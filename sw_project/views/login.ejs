<!DOCTYPE html>
<html>
<head>
    <!--폰트1 numans-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Numans&display=swap" rel="stylesheet">
    <!--폰트2 nunito-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Numans&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!--폰트3 nanum gothic-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Numans&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!--css 주소 링크-->
    <link href="/stylesheets/login.css" rel="stylesheet" />
    <title>login</title>
    <!-- script -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function loginUser() {
            var form = document.getElementById("login");
            axios({
                method: 'post',
                url: 'http://localhost:8080/login',
                data: {
                    id: form.id.value,
                    password: form.password.value
                }
            }).then((response) => {
                console.log("response.data:" , response.data);
                return response.data;
            }).then((data) => {
                if ( data.flag == false) {
                    //메세지 띄우기
                    let alert_html = "<h6 class='fw-bold text-center mt-5'>다시 로그인해주세요.</h6>";
                    document.getElementById("alert").innerHTML = alert_html;
                } else {
                    var form_info = document.getElementById("form_info");
                    form_info.id.value = form.id.value;
                    form_info.submit();
                    
                }     
            })
        }
    </script>

<!-- body -->
<body>
    <div class="background">
        <div class="background_image"></div>
        <div class="menubar">         <!--상단 메뉴바 -->
            <span class="fonts">MENU</span>
            <span class="fonts">CASH</span>
            <span class="fonts">MAP</span>
            <span class="fonts">HOME</span>
            <div class="line_1"></div> <!-- 구분선 -->
            <div class="icon icon_1"></div> <!--공대 6호관 옆 아이콘-->
            <span class="fonts fonts_5">공대 6호관 카페</span>

            <div class="icon icon_2"></div>  <!--카트 아이콘-->
            <div class="signup_bg"></div>  <!--SIGN UP 배경-->
            <span class="fonts fonts_6">SIGN UP</span>
            <div class="icon icon_3"></div>  <!--SIGN UP 옆 사람 아이콘-->
            <span class="fonts fonts_7">SIGN IN</span>
        </div>
        <form id="login">
        <!--
        <div class="row justify-content-center mt-5">
            <div class="col-4"></div>
            <div class="col-4 justify-content-center" id="title">
                <h6 class="fw-bold fs-2 mb-5 text-center">로그인</h6> 
            </div>
            <div class="col-4"></div>
        -->
            <div class="main_login"></div> <!-- 로그인 하얀 창-->
            <div class="id_pw">
                <div class="id_bg">
                    <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required><br>
                </div> <!--아이디 입력창-->
                <span class="id_font">아이디</span>
                <div class="pw_bg">
                    <input class="input-box mb-2" type="password" name="password" placeholder="비밀번호를 입력하세요" required><br>
                </div>  <!--비밀번호 입력창-->
                <span class="pw_font">비밀번호</span>
                <div class="login_bt">
                    <button class="join-button" type="button" onclick="loginUser();">로그인</button>
                </div> <!--로그인 창/ 버튼기능 추가 후 연결 해주시면 됩니다-->
                <span class="login_font">로그인</span> 
            </div>
            <!--
            <div class="row justify-content-center">
                <div class="col-4"></div>
                <div class="col-4 justify-content-center" id="contents">
                    <h6 class="fw-bold">ID</h6>
                    <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required><br>
                    <h6 class="fw-bold">Password</h6>
                    <input class="input-box mb-2" type="password" name="password" placeholder="비밀번호를 입력하세요" required><br>
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row justify-content-center mt-3">
                <div class="col-4"></div>
                <div class="col-4" id="button-group">
                    <button class="join-button" type="button" onclick="loginUser();">로그인</button>
                </div>
                <div class="col-4"></div>
            </div>
            -->
            <div class="row justify-content-center">
                <div class="col-4"></div>
                <div class="col-4" id="alert">
                </div>
                <div class="col-4"></div>
            </div>
        </form>
        <div class="v16_57">
            <div class="line_2"></div>  <!--구분선-->
            <div class="line_3"></div>  <!--구분선-->
            <span class="join_font_2">회원가입</span>
            <span class="ID_find_font">아이디 찾기</span>
            <span class="PW_find_font ">비밀번호 찾기</span>
        </div>
        <div class="logo">
            <span class="logo_font">학교 생협 카페 온라인 주문하기</span>
            <div class="v16_60"></div>
            <div class="v16_61"></div>
        </div>
        <div class="line_4"></div>
    </div>

    <form id="form_info" action="/" method="GET">
        <input type="hidden" name="id">
    </form>
</body>
</html>